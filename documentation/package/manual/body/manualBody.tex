\documentclass[8pt]{extbook}
\usepackage{epsfig,fullpage,times,graphs}


\usepackage[dvips]{geometry}

\newlength{\paperWidth}
\setlength{\paperWidth}{4.125in}
\newlength{\paperHeight}
\setlength{\paperHeight}{4.125in}

% trim a bit more to reduce bottom whitespace
%\setlength{\paperHeight}{0.987\paperHeight}

\geometry{papersize={\paperWidth,\paperHeight},scale=1.0, top=0.25in, bottom=0.375in, left=0.25in, right=0.25in, headheight=0in, headsep=0in, footskip=0.1875in}
%total={6.5in,5in}}


% force all sections to start on new pages
%\let\stdsection\section  
%\renewcommand\section{\newpage \stdsection} 


\setcounter{tocdepth}{0}

\begin{document}

\frontmatter

\tableofcontents


\chapter{Introduction}

Diamond Trust of London has been a very long time coming, and it's too much of an uneven story to fully relate here.  Suffice it to say that what you hold in your hands right now exists only because of several unlikely and fortunate events.  

A turn-based deception game about diamond traders in Angola made entirely by two lifelong friends and released in a box for the Nintendo DS.  I can't believe it either, but it exists.  

I hope you enjoy playing it as much as I enjoyed making it.

\begin{flushright}
\begin{minipage}{1.5in}
Jason Rohrer\\
Las Cruces, New Mexico\\
August 2011
\end{minipage}
\end{flushright}

\mainmatter

\part{How to play}
\addtocounter{chapter}{1}
\setcounter{section}{0}

\section{Overview}
Diamond Trust is extremely simple on a basic mechanical level.  However, it's a new game design that does not share too many play patterns with other games that you've played before.  When you sit down at new platformer or a new realtime strategy game or a new first person shooter, you already know how to play.  That won't be the case with Diamond Trust---you must learn how to play.

First things first:  your goal is to {\bf have more diamonds than your opponent by the end of the game}.  How you use the mechanics to accomplish that goal is up to you.

Each game is divided into nine rounds, and during each round, play proceeds through a series of phases.  In each phase, you and your opponent make your move selection simultaneously and in secret.  Then both moves are revealed, the outcomes of the moves are applied, and the game advances to the next phase.

The mechanics at your disposal in the various phases include moving your agents from region to region, bidding on diamonds, moving the UN Inspector to change which regions are open for play, and selling some of your collected diamonds to raise additional money for future rounds.

On top of these basic mechanics, there is a layer of agent loyalty mechanics.  You can pay your agents to keep them loyal and bribe your opponent's agents to acquire their loyalty as well.  When an agent is loyal to the other side, suddenly the ``make your move in secret'' guarantee goes out the window.  Of course, you won't know that your agent has been compromised, unless you manage to bribe the agent that bribed your agent.  And all of this paying and bribing reduces the amount of money you have to bid on diamonds.  You really can't afford to do it.  Then again, you can't afford {\it not} to do it either.

\section{Controls}
The game is controled entirely through single touches on the Touch Screen.  Various buttons and widgets appear on the Touch Screen when appropriate, and other situations require that you touch specific game elements directly.

\section{Hearing the music}

Diamond Trust's soundtrack features near-CD quality interactive music.  High quality headphones or external speakers are recommended.  

The music goes through transitions based on the decisions made by both players in the game.  Thus, it does not go through transitions when the game is idle, such as when the game is waiting on the title screen.  However, if you plug headphones or external speakers into the audio jack and then Close the System, the music will enter an auto-transition mode, allowing you to hear a fully-dynamic redition of the soundtrack even while you're not actively playing the game.  Normal game-based music transitions will resume after you Open the System.

\section{Getting connected}

Diamond Trust is a game of skill for exactly two players.  You should eventually plan on playing the game exclusively against other people, but such match-ups are not ideal while you're still learning the game.  Maybe you could struggle along with another novice through your first game, but trying to learn while playing against and experienced player will likely be nerver-wracking for you and frustrating for your opponent.  The AI is provided to alieviate this problem.

\subsection{Practice against the AI}

If you touch ``Single Player'' from the title screen, you can pick an AI level and start a game against the AI.  The single player game works exactly the same way as a two player game, and the AI operates by the same rules as your human opponent would---it doesn't cheat by peaking at your secret information.

Unfortunately, reasoning about incomplete information requires quite a lot of ``possible worlds'' simulation on the part of the AI, which takes a long time in order to pick a good move.  At lower AI levels, the AI picks a move quickly but usually poorly.  At higher skill levels, the AI picks better moves but takes quite a bit longer.

Each additional level gives the AI more time to consider moves.  At level 2, it takes twice as long, while at level 7, it takes seven times as long.  But even at extremely high levels, where the AI is given an extraordinary amount of time to consider moves, human-level play is not possible.

Thus, the AI should be thought of as a practice opponent only.  Learn how to play the game, and learn how to beat the AI at some of the lower skill levels, and then move on to a human opponent.  

\subsection{Single-Card Play}
\label{sec:singleCard}
To play againsts a friend, all you need is two DS systems and a single Diamond Trust Game Card.  By touching ``Two Player'' from the title screen, you can touch ``Host Single-Card Play'' serve the game to your friend's system via DS Download Play.  The only down-sides to this approach are the additional transmission and load time and the fact that the receiving player's game won't output music.

After the game has been served and loaded once, multiple games can be played against that friend.  It is even possible for two DS Download Play recipients to play subsequent games against each other.  Thus, a Diamond Trust party or tournament could be possible with only a few Game Cards shared by many people. 

\subsection{Multi-Card Play}
If both players have Diamond Trust Game Cards, they can connect to each other directly with no download time and both players experiencing the game's music.  After touching ``Two Player'' from the title screen, one player should touch ``Host Multi-Card Play'' while the other player touches ``Join Game.''

Headphones or two separate rooms are recommended to avoid unpleasant music combinations from the two systems.  Another option is to reduce the volume control to the minimum for one system and plug high-quality, external speakers into the audio jack for the second system, which will allow both players to listen to the music eminating from the second system.





\begin{figure}[p]
\begin{center}

\begin{framegraph}(7,8)(-3.5,-.5)
%\begin{framegraph}(6,5)(-3,0.5)
\graphnodesize{0.6}
\graphnodecolour{1}
\grapharrowlength{0.2}
\grapharrowwidth{0.75}
%\opaquetextfalse
%\fillednodesfalse

\newcommand{\phase}[4] { \textnode{#1}(#2,#3){{\large \begin{tabular}{c}#4\end{tabular}}} }    


\phase{pay}{0}{7}{Pay agents}

\phase{move}{0}{5.5}{Move agents\\(specify diamond bids)\\(specify inspector bribes)}

\phase{deposit}{0}{3.75}{Deposit diamonds\\(as agents move home)}


\phase{inspector}{0}{2.25}{Move UN inspector\\(inspector confiscates)}

\phase{collect}{0}{1}{Collect diamonds}

\phase{sell}{0}{0}{Sell diamonds}



\diredge{pay}{move}
\diredge{move}{deposit}
\diredge{deposit}{inspector}
\diredge{inspector}{collect}
\diredge{collect}{sell}


\dirbow{sell}{pay}{0.5}
\bowtext{sell}{pay}{0.5}{Repeat 9 times}


\end{framegraph}

\end{center}

%\caption{Phase progression in Diamond Trust}
\label{fig:gameFlow}

\end{figure}


\section{Structure of the game}

The diagram on page \pageref{fig:gameFlow} shows the phase progression during each round of the game.  That progression is repeated nine times until the end of the game.  Sections \ref{sec:payPhase} through \ref{sec:sellPhase} explain each game phase in detail.

\newpage



\subsection{Game phase:  Pay agents}
\label{sec:payPhase}

\subsection{Game phase:  Move agents}

\subsection{Game phase:  Deposit diamonds}

\subsection{Game phase:  Move UN inspector}

\subsection{Game phase:  Collect diamonds}

\subsection{Game phase:  Sell diamonds}
\label{sec:sellPhase}


\subsection{End of the game}


\section{Playing again}
The host of the game must decide whether to start another game after a game ends.  If the host touches the ``Back'' button, both players will be disconnected and returned to the title screen, where they can each play against the AI or host/join games with other game partners.

As mentioned in section \ref{sec:singleCard}, if the host choses not to play again during DS Download Play, the cardless player will still be returned to the title screen where she will have full access to all game features, including hosting and joining.  The only thing a cardless player cannot do is host DS Download Play for another DS system that still needs to download the game.  A cardless player can continue playing the game indefinitely, hosting and joining subsequent games, until she turns the power OFF.


\section{Multi-hosting tricks}
The hosting, joining, and DS Download Play serving system in Diamond Trust is extremely flexible and allows several interersting play setups.

A single Game Card can be used to distribute the game to multiple cardless DS systems without necessarily starting games with any of them.  To use this trick, host Single-Card Play normally, and after the first cardless system receives the game and displays the ``Loading'' screen with the advancing credit page, touch the ``Back'' button on the host system to cancel hosting and return to the title screen.  The connecting system will of course be unable to connect to the host after loading, so touch the ``Back'' button on that system as well.  Now you have two systems that are at the title screen and ready to host or join games.

Repeat this process for additional cardless systems, transfering the game to each through DS Download Play, but backing out before the cardless system finishes loading the game.

You will now have a room full of friends who all have downloaded the game and are ready to play games against each other, all from a single Game Card.

If multiple people want to join chosen partners in the same room, they should pair up and host/join one pair at a time.  The default behavior of Diamond Trust when multiple people are hosting and joining simultaneously is to pair them up randomly with each other (there is no lobby view for selecting amoung multiple available hosts).  This behavior can be used, if half of the friends host and the other half join simultanously, to play against a friend whose identity is unknown to you, adding yet another layer of uncertainty and deception.



\part{Original design document}
\addtocounter{chapter}{1}
\setcounter{section}{0}


\input{design.tex}


\part{Credits}
\addtocounter{chapter}{1}
\setcounter{section}{0}

\subsubsection{Jason Rohrer}
Concept, game design, programing, graphics, pixel fonts, package design, photography, manual contents.

\subsubsection{Tom Bailey}
Interactive music direction, composition, arrangement, and production.

\subsubsection{Thanks}
Gun consulting group brought indiePub and Diamond Trust together.  Mark Seremet believed in this crazy project.  Lauren Serafin helped to playtest several early versions of the game.  The font used on the title screen is Oxford by Roger White.  The satellite image of Angola is from the NASA Visible Earth project.








\end{document}


